from PIL import Image, ImageDraw
import requests
from io import BytesIO

#edit the team names and colors here
# team_colors = {"Semen Demons": (255,255,255),
#               "Morytania Meatflaps": (100,0,100),
#               "Guthix Gooch": (0,255,0)}

poly_dict = {"Zeah": [],
            "Tirannwn": [],
            "Kandarin": [],
            "Karamja": [],
            "Fremennik": [],
            "Asgarnia": [],
            "Wilderness": [],
            "Misthalin": [],
            "Desert": [],
            "Morytania": [],}

Zeah = "10.48,240.21;14.67,237.30;19.82,237.30;24.66,238.27;29.81,238.27;33.68,235.05;34.32,230.22;33.36,225.38;32.07,220.55;36.26,217.65;40.12,214.43;42.38,209.92;42.70,205.09;43.34,200.25;43.02,195.42;42.38,190.59;42.38,185.43;39.80,181.24;37.87,176.73;36.90,171.90;37.87,167.07;41.09,163.20;46.24,163.20;51.08,163.52;53.01,159.01;53.98,154.18;53.98,149.02;53.98,143.87;52.69,139.04;51.08,134.20;50.11,129.37;53.65,125.83;54.62,120.99;53.98,116.16;56.88,111.97;61.71,111.00;66.54,111.97;71.37,112.94;73.31,108.43;70.41,104.24;69.76,99.41;71.37,94.57;72.66,89.74;75.89,85.87;80.72,86.52;84.91,83.94;89.42,81.36;93.93,79.43;98.76,79.11;102.63,82.33;105.53,86.52;109.72,89.42;114.55,90.06;119.06,87.48;123.25,84.26;126.79,80.72;127.44,75.89;129.37,71.37;131.62,66.86;135.17,63.32;138.07,59.13;138.71,54.30;141.94,50.11;146.12,47.53;150.96,48.18;155.15,51.08;159.66,53.33;163.20,49.79;162.88,44.95;166.10,41.09;169.32,36.58;173.83,34.00;177.70,37.22;179.63,37.22;183.82,34.64;185.75,30.13;188.65,25.95;191.88,21.76;195.10,17.89;198.64,14.02;203.15,11.45;207.99,9.51;212.82,8.87;217.65,8.22;222.48,7.90;227.64,7.90;232.79,7.90;237.63,9.19;239.88,13.70;242.46,18.21;244.39,23.05;246.00,27.88;246.65,32.71;248.58,37.22;253.74,36.90;256.31,32.71;258.89,28.52;260.82,23.69;265.66,22.72;270.49,23.69;275.00,25.62;278.22,29.49;280.16,34.00;282.73,38.19;287.24,40.77;292.08,41.73;296.27,44.95;300.13,48.50;302.71,52.69;304.97,57.20;308.83,60.42;313.02,63.64;316.56,67.19;320.11,70.73;323.01,74.92;325.91,79.43;325.91,84.58;322.04,87.81;317.21,89.10;312.38,89.74;307.54,90.38;303.35,93.28;302.71,98.12;302.71,103.27;302.71,108.43;303.68,113.26;305.61,117.77;305.61,122.93;305.61,128.08;304.64,133.88;305.29,138.71;304.97,143.55;304.00,148.38;303.68,153.21;302.71,158.04;302.71,163.20;302.71,168.36;302.71,173.51;302.71,178.67;303.35,183.50;304.64,188.33;308.19,192.20;312.70,194.13;314.63,198.64;314.31,203.47;310.44,206.70;312.38,211.21;314.63,216.04;315.92,220.87;316.56,225.71;315.60,230.54;312.70,235.05;308.83,238.27;304.32,240.53;300.13,243.10;294.98,244.72;290.14,245.68;286.60,249.23;284.67,253.74;281.12,257.28;276.29,257.93;270.81,258.57;265.98,256.96;262.11,253.74;261.79,248.90;263.08,244.07;259.86,239.24;253.74,237.95;247.61,237.30;242.78,237.63;237.30,239.24;232.15,240.85;226.99,242.78;222.81,245.68;218.94,248.90;214.75,251.48;210.24,254.06;206.05,256.64;201.22,258.25;196.06,259.54;190.26,259.54;183.82,259.54;178.99,259.86;174.15,260.50;168.03,260.50;164.49,256.96;163.52,252.13;160.94,247.94;161.27,243.10;160.62,238.27;157.72,234.08;154.18,229.89;149.35,228.28;143.87,228.93;139.04,229.25;134.85,232.15;130.66,234.08;125.83,233.76;120.99,232.15;116.16,231.18;111.65,229.25;106.82,229.57;102.63,232.47;97.79,234.08;92.32,235.05;87.16,235.05;82.33,236.34;78.46,239.88;76.53,244.39;75.56,249.23;74.92,254.06;74.60,259.21;74.60,264.37;74.60,269.85;74.92,274.68;74.92,279.83;73.95,284.99;71.37,289.18;68.80,293.37;66.22,297.56;62.68,301.10;58.49,304.64;53.65,307.54;48.82,307.87;43.99,307.54;39.48,305.29;35.93,301.42;31.74,298.84;26.59,297.56;21.43,294.98;17.25,292.08;14.02,288.21;12.09,283.70;11.45,278.87;12.41,274.03;12.09,269.20;10.48,264.05;10.16,259.21;9.19,254.38;8.22,249.55;8.55,244.72;8.55,242.78" 
Tirannwn = "365.54,231.51;366.83,226.67;371.02,224.09;375.85,222.48;380.68,221.19;385.51,220.55;390.35,222.16;394.54,224.74;399.37,226.35;404.20,225.71;407.10,221.52;411.29,218.94;416.12,220.55;420.96,220.87;424.18,217.01;428.69,215.07;433.52,214.43;439.32,214.43;444.15,214.75;448.99,216.04;452.21,219.91;453.17,224.74;453.17,229.89;451.24,234.40;451.89,239.24;455.11,243.43;456.07,248.26;458.33,252.77;461.87,256.31;466.38,258.25;468.32,262.76;473.15,262.11;478.31,262.11;483.14,262.76;487.65,265.01;492.48,266.30;492.80,271.14;492.80,276.29;492.80,281.45;492.48,286.28;492.16,291.11;490.87,295.94;487.97,300.13;484.75,304.00;484.43,308.83;485.07,313.66;487.01,318.18;487.01,323.33;487.01,328.49;485.07,333.00;481.21,336.22;478.31,340.41;473.47,341.05;468.64,342.34;463.81,342.66;458.97,344.27;458.33,349.11;458.65,353.94;458.65,359.09;458.01,363.93;453.17,365.22;448.34,365.54;444.80,369.08;442.22,373.27;439.32,377.46;434.81,380.04;429.98,381.97;425.14,382.29;420.96,384.87;416.44,387.13;411.61,387.45;406.46,387.45;401.62,386.80;397.44,383.58;392.92,381.33;388.41,379.39;383.90,377.14;380.36,373.59;375.85,371.66;372.95,367.47;369.73,363.60;368.44,358.77;368.44,353.62;370.05,348.78;372.63,344.60;376.49,341.37;378.75,336.86;380.36,332.03;380.36,326.87;380.68,322.04;379.71,317.21;379.07,312.38;381.00,307.87;381.65,303.03;381.65,297.88;381.65,292.72;380.68,287.89;376.17,285.63;372.30,282.41;371.66,277.58;371.02,272.75;371.02,267.27;371.66,262.44;373.59,257.93;377.14,254.38;375.20,249.87;370.69,247.61;366.50,244.72;364.57,239.88" 
Kandarin = "431.43,212.87;431.16,208.84;431.16,204.55;431.16,200.25;431.16,195.96;428.21,193.00;426.33,189.24;425.52,185.22;425.25,181.19;424.71,177.16;422.30,173.67;421.22,169.64;421.49,165.62;421.49,161.32;423.10,157.56;425.25,154.07;427.67,150.58;430.35,147.36;433.84,144.67;437.07,141.99;438.14,137.96;438.68,133.93;439.75,129.91;443.24,127.76;447.27,127.49;451.30,126.95;455.59,126.95;458.81,129.64;460.69,133.40;460.96,137.43;458.01,140.38;456.67,144.41;457.74,148.43;460.96,151.12;464.45,153.27;467.67,155.95;470.63,158.90;473.04,162.40;474.92,166.15;475.46,170.18;476.27,174.21;474.39,177.97;474.66,182.26;478.41,184.14;482.44,185.22;486.74,185.22;490.76,184.68;494.79,184.41;499.09,184.41;502.85,186.02;507.14,186.02;511.17,185.49;513.86,182.26;513.86,177.97;514.66,173.94;515.73,169.91;516.81,165.89;518.96,162.40;521.37,165.89;524.86,168.03;528.35,170.45;531.31,173.40;533.46,176.89;534.80,180.92;535.87,184.95;537.48,188.71;537.21,192.74;538.83,196.76;542.32,198.91;546.34,200.52;550.37,199.98;554.40,198.64;558.43,197.30;562.45,196.76;565.94,194.61;568.09,191.12;571.85,189.51;573.73,185.75;570.24,183.61;567.29,180.65;565.41,176.89;565.68,172.87;567.82,169.38;571.58,167.77;575.88,167.77;579.91,166.96;584.20,166.96;588.23,166.42;592.52,166.42;596.82,166.42;600.85,166.96;604.88,167.77;608.90,169.11;612.39,171.26;613.20,175.28;613.20,179.58;612.66,183.61;612.39,187.63;614.00,191.39;618.03,192.74;619.91,196.49;622.06,199.98;623.67,204.01;624.48,208.04;628.23,210.19;632.26,208.84;636.29,208.31;638.17,212.07;638.44,216.09;640.59,219.58;643.81,222.27;645.42,226.03;646.22,230.06;646.22,234.35;644.61,238.11;641.39,240.80;637.63,242.41;633.60,243.48;629.58,244.29;625.55,244.55;621.52,246.17;617.49,247.24;613.47,248.31;609.71,250.46;609.17,254.49;609.17,258.78;608.63,262.81;609.71,266.57;608.10,270.33;604.07,271.67;600.31,273.55;599.51,277.58;603.26,275.97;605.95,279.19;606.75,283.22;606.75,287.51;606.49,291.54;604.88,295.30;600.58,296.37;596.28,296.37;593.33,299.33;591.72,303.09;587.96,304.70;584.20,306.85;581.52,310.07;580.44,314.09;580.98,318.12;583.93,321.34;585.01,325.37;585.01,329.67;583.66,333.70;583.40,337.99;583.13,342.02;583.13,346.31;583.66,350.34;584.47,354.37;584.47,358.67;586.08,362.69;586.89,366.72;585.01,370.48;580.98,371.02;576.95,370.21;572.92,368.60;568.90,368.06;564.87,369.14;562.72,372.63;558.96,374.24;555.20,375.85;551.18,377.46;547.95,380.14;547.15,384.17;548.76,387.93;552.79,389.01;556.81,389.81;560.84,391.15;564.60,392.76;568.36,394.38;572.12,396.25;571.85,400.55;571.31,404.58;572.66,408.61;572.66,412.90;569.70,416.12;565.68,417.73;561.65,418.00;559.50,421.76;559.77,425.79;560.31,429.82;558.43,434.38;558.96,439.21;555.74,442.97;551.98,446.19;552.52,451.03;553.59,455.86;553.59,460.96;548.76,460.69;543.66,460.69;538.56,460.69;533.19,460.69;528.09,460.69;523.25,460.96;518.15,460.69;513.05,460.16;508.22,459.89;503.65,461.77;499.09,463.92;495.60,467.41;491.03,469.55;487.27,466.33;487.01,461.50;487.54,456.67;487.01,451.83;487.01,446.46;491.30,444.32;492.91,439.48;495.06,434.65;498.55,430.89;502.58,427.94;501.50,423.10;500.70,418.27;504.73,415.05;504.19,410.22;501.77,405.92;502.31,401.09;503.38,396.25;500.43,392.23;495.87,390.08;492.64,386.32;488.89,382.83;484.05,382.56;478.95,382.56;474.12,384.17;466.87,384.44;461.50,384.44;456.40,384.44;450.22,384.17;446.19,380.95;444.58,376.12;444.32,371.28;447.54,367.26;452.37,365.91;457.20,364.04;459.62,359.47;459.89,354.64;459.89,349.54;459.89,344.97;463.11,343.63;466.33,343.09;469.82,342.56;473.04,341.75;476.53,340.94;479.76,340.41;481.90,337.45;483.25,334.23;485.13,331.28;486.47,328.33;486.74,324.30;486.74,320.54;486.47,317.32;485.93,313.83;485.13,310.34;485.13,306.85;486.47,303.62;488.89,300.67;490.76,297.45;492.64,294.49;492.91,291.00;493.45,287.51;493.99,284.02;493.99,280.26;494.26,277.04;494.52,273.28;494.26,270.06;493.45,266.57;490.50,264.69;487.27,263.62;484.05,262.28;480.83,261.20;477.07,261.20;473.85,261.20;470.09,261.20;467.41,258.52;464.72,256.37;461.50,255.03;459.89,251.80;458.01,248.58;456.93,245.09;456.67,241.87;453.98,239.72;452.64,236.50;453.18,233.01;453.71,229.79;453.71,226.30;453.71,222.27;452.37,219.05;450.49,216.09;447.54,213.68;443.78,213.68;440.29,213.68;436.80,213.41" 
Karamja = "585.60,311.73;590.43,313.34;594.94,311.41;598.16,307.54;601.38,303.68;605.90,301.74;610.73,301.10;615.24,298.84;620.07,298.52;624.90,297.88;628.77,294.66;631.03,290.14;631.60,283.80;636.10,279.20;640.60,276.80;647.10,276.50;651.32,278.55;653.50,283.40;654.00,288.00;652.29,293.04;651.65,297.88;655.19,301.74;656.16,306.58;655.84,311.41;657.77,315.92;661.96,318.50;666.47,320.75;671.30,323.01;674.84,326.87;679.68,328.81;684.51,329.77;689.34,330.10;693.85,332.03;697.40,335.57;697.72,340.41;692.89,341.37;690.95,345.88;690.31,350.72;687.73,355.23;685.15,359.42;682.58,363.60;684.51,368.44;689.34,370.05;694.18,371.02;697.72,367.47;701.91,364.89;706.10,367.47;706.74,372.30;706.42,377.14;706.10,381.97;705.78,386.80;700.94,388.41;698.69,392.92;699.01,397.76;695.14,400.98;696.75,405.81;699.65,410.00;698.69,414.83;693.85,416.44;690.63,420.31;694.18,423.86;695.79,428.69;697.72,433.20;696.43,438.03;691.92,439.96;687.09,440.61;682.26,442.22;677.42,443.51;672.59,444.80;667.76,445.44;662.92,445.76;658.41,443.83;653.90,441.58;649.07,440.93;644.24,441.25;639.08,441.90;633.93,441.90;628.77,441.58;623.29,441.25;618.46,440.93;613.63,439.96;610.73,435.78;609.76,430.94;609.76,425.79;609.44,420.96;608.47,416.12;607.83,411.29;607.51,406.46;606.86,401.62;606.86,396.47;606.86,391.31;606.86,386.16;606.22,381.33;606.22,376.17;605.90,371.34;606.22,366.50;606.86,361.67;602.03,360.06;599.13,355.87;598.81,351.04;597.20,346.21;593.01,343.31;589.79,339.44;590.43,334.61;593.65,330.74;591.07,326.55;589.14,322.04;584.63,320.11;584.31,315.28" 
Fremennik = "342.34,53.01;346.53,50.43;351.04,47.85;355.55,45.92;360.38,44.31;365.22,43.02;370.05,42.70;374.88,43.99;379.07,46.57;383.90,46.89;389.06,46.89;393.89,46.24;398.72,45.28;402.27,41.73;402.27,36.58;402.27,31.42;403.23,26.59;408.07,25.30;411.93,28.52;416.77,29.17;421.92,29.17;427.40,29.17;432.23,27.88;436.74,25.95;441.58,25.30;446.41,24.33;451.24,22.40;456.07,20.79;460.91,19.50;466.06,19.50;471.22,19.50;476.05,20.15;481.53,20.15;486.36,20.79;490.87,23.05;495.70,23.37;500.54,23.05;505.37,22.40;509.88,20.47;514.71,19.82;519.55,19.50;524.38,17.89;528.89,15.96;534.05,15.96;539.20,15.96;544.03,15.64;549.19,14.67;554.02,14.02;558.85,12.74;563.69,10.80;568.52,9.51;573.35,8.22;578.19,6.94;583.02,6.61;588.17,6.61;590.75,10.80;591.07,15.64;591.72,20.47;592.69,25.30;593.65,30.13;598.48,31.42;603.32,32.07;608.79,32.07;613.95,32.07;619.11,31.74;624.58,30.46;629.42,29.49;634.25,28.20;639.08,27.23;643.91,25.62;648.75,25.30;653.90,25.30;659.06,25.30;664.21,25.30;669.37,25.30;674.52,25.30;678.07,29.17;679.03,34.00;678.71,38.83;678.39,43.67;678.07,48.50;678.39,53.33;678.07,58.16;673.56,60.10;668.72,60.42;663.57,60.42;658.41,60.10;652.61,60.10;647.46,59.78;642.63,59.45;637.79,59.13;632.96,58.81;627.80,58.49;622.65,58.49;617.49,58.49;612.66,58.81;607.83,59.78;603.32,61.71;600.42,65.90;600.42,71.37;601.06,76.21;603.00,80.72;604.61,85.55;606.54,90.06;606.86,94.89;607.18,99.73;607.51,104.56;609.44,109.07;613.31,112.62;617.49,115.52;621.04,119.06;625.55,121.31;629.09,124.86;630.38,129.69;631.99,134.52;632.96,139.36;628.77,142.26;623.94,142.90;621.04,147.09;625.23,149.99;629.42,152.57;629.42,157.72;626.19,161.91;623.29,166.42;620.72,170.61;617.17,174.15;613.95,173.83;612.34,169.97;608.15,168.68;604.28,167.39;600.10,166.42;596.23,165.78;592.04,165.78;587.85,165.78;583.66,165.46;579.15,165.46;574.32,165.78;570.45,167.39;566.91,169.32;564.33,172.54;562.70,174.80;559.82,173.51;557.57,169.97;553.70,168.03;549.51,167.71;545.64,169.64;541.46,170.61;539.20,167.07;536.30,164.17;532.43,161.59;528.57,160.94;524.38,160.94;520.19,160.62;516.33,159.98;514.39,156.11;512.46,152.25;509.88,149.02;508.27,145.16;506.98,141.29;506.66,137.10;506.01,133.24;505.05,128.73;504.08,124.54;503.44,120.35;502.79,116.16;501.18,112.62;499.57,108.43;495.70,106.17;491.84,104.56;487.65,103.59;483.78,102.63;479.27,102.63;474.76,102.63;470.90,102.31;466.71,102.95;463.16,104.88;458.97,105.85;455.11,106.17;450.28,106.17;446.09,106.82;441.90,106.82;437.39,107.14;433.52,107.46;429.33,107.78;424.50,107.78;420.63,107.78;415.48,107.78;411.61,108.10;406.78,109.07;402.91,109.39;398.72,109.39;394.86,109.72;390.02,109.72;385.84,109.39;382.61,106.82;378.75,104.88;374.56,101.98;371.02,99.73;367.47,97.15;364.89,93.93;362.64,90.38;358.77,88.45;354.91,86.84;350.39,85.23;345.56,84.58;342.34,82.01;342.34,77.17;342.02,73.31;340.73,69.12;340.73,64.93;340.73,60.74;340.73,56.23" 
Asgarnia = "601.16,68.42;602.50,65.29;604.52,62.38;607.87,61.26;611.23,60.81;614.59,60.37;617.94,60.14;621.30,59.47;624.65,59.25;628.23,59.25;632.04,59.25;635.62,59.25;639.20,59.47;642.55,59.70;645.91,59.92;649.49,59.92;652.85,60.14;656.43,60.37;660.01,60.37;663.36,60.59;666.94,60.59;670.52,60.81;673.88,61.26;677.23,62.16;679.70,64.62;679.70,68.20;679.70,71.78;679.02,75.13;677.91,78.49;677.46,81.85;677.91,85.20;678.35,88.56;679.02,91.91;679.25,95.27;679.70,99.07;679.70,102.65;680.37,106.01;681.04,109.37;681.49,112.72;682.38,116.08;683.95,119.21;684.84,122.57;685.07,125.92;685.07,129.50;685.07,133.08;685.29,136.44;685.51,139.80;685.74,143.15;686.41,146.51;686.41,150.09;686.86,153.44;687.75,156.80;689.09,159.93;689.99,161.72;717.73,163.07;718.18,189.24;719.97,191.48;722.88,194.39;724.00,198.42;724.89,202.45;725.79,206.47;726.23,210.50;726.46,214.53;726.68,218.55;726.91,222.58;726.91,226.83;726.68,230.86;726.23,234.89;725.34,238.92;725.34,243.17;726.91,246.97;728.47,250.77;728.47,255.03;726.91,258.83;727.13,263.08;727.80,267.11;727.58,271.14;727.80,275.16;729.14,279.19;729.14,283.89;728.47,287.92;728.47,292.17;728.92,296.19;729.14,300.22;729.37,304.25;729.14,308.50;728.02,312.53;727.80,316.56;728.47,320.58;730.71,324.39;730.26,328.41;726.46,329.98;722.43,329.53;719.52,332.44;718.18,336.47;716.17,340.27;713.26,343.18;710.35,346.09;707.66,349.22;705.20,352.80;701.18,353.92;697.15,352.80;696.70,348.78;698.71,344.97;699.83,340.94;699.61,336.92;697.60,333.11;694.46,330.43;690.66,328.64;686.63,327.52;682.60,326.40;678.58,325.06;675.44,322.37;671.86,320.36;667.39,318.79;664.48,315.44;661.35,312.53;661.80,308.28;665.82,306.93;669.85,306.71;670.30,302.68;670.07,298.66;670.07,294.18;669.85,290.15;668.96,286.13;667.17,282.55;664.03,279.41;660.90,276.51;657.32,274.49;653.29,273.15;649.04,273.37;644.79,274.04;640.76,274.49;636.74,274.04;633.16,271.81;630.02,269.12;627.34,265.77;626.00,261.51;625.77,257.49;625.55,253.46;627.12,249.66;630.92,247.87;634.28,245.40;638.30,244.29;642.33,242.72;645.69,240.03;646.13,236.01;646.36,231.98;646.36,227.73;645.01,223.70;642.33,220.12;639.87,216.76;638.53,212.74;637.63,208.71;633.60,206.70;629.58,206.92;625.55,206.25;623.31,202.67;621.75,198.87;620.85,194.84;619.51,190.81;620.63,186.78;623.09,183.43;623.76,179.40;622.19,175.60;621.52,171.34;623.76,167.76;626.44,164.63;629.13,161.28;630.25,157.25;630.47,153.22;628.91,149.64;625.10,147.85;627.12,144.27;631.14,143.15;633.60,139.57;633.60,137.56;633.60,134.43;632.93,131.74;631.81,129.06;630.92,126.37;629.58,123.91;627.34,121.90;625.10,119.88;622.86,118.54;620.40,116.75;618.17,114.96;615.93,113.17;613.91,110.93;611.68,108.70;609.89,106.46;608.77,104.00;608.77,100.86;608.77,97.73;608.32,95.05;607.65,92.14;607.20,89.45;606.08,86.77;604.96,84.08;603.85,81.62;602.73,78.71;601.83,76.03" 
Wilderness = "682.26,33.68;686.77,30.78;690.95,28.20;695.47,25.95;699.98,24.01;705.13,23.69;710.61,23.69;715.76,23.69;720.92,23.69;726.40,23.69;731.55,23.69;736.71,23.69;741.86,23.69;746.69,24.01;751.53,24.98;756.68,24.98;761.51,24.66;766.35,23.69;771.18,22.72;776.34,22.72;781.17,24.01;786.00,25.62;790.83,26.59;795.99,25.95;800.82,25.30;805.66,24.01;810.49,23.69;815.00,25.62;819.83,26.59;824.99,24.98;829.82,24.66;834.65,25.95;839.49,25.30;844.64,25.30;849.47,26.91;853.34,30.46;855.92,34.64;856.24,39.48;855.60,44.31;853.66,48.82;853.66,53.98;853.98,58.81;851.41,63.00;846.57,63.96;842.39,66.54;841.42,71.70;841.42,76.85;842.71,81.68;845.29,85.87;844.00,90.71;841.74,95.22;844.32,99.41;847.22,103.59;849.47,108.10;853.02,111.65;853.02,116.80;850.12,120.99;852.05,125.50;852.05,130.66;852.05,135.81;851.08,140.65;850.76,145.48;850.44,150.31;849.15,155.15;850.12,159.98;854.95,161.59;859.78,162.56;861.07,167.39;859.14,171.90;857.85,176.73;857.21,181.57;858.17,186.72;857.85,191.55;854.63,192.20;851.73,192.20;848.83,192.20;845.93,192.84;843.03,193.16;840.13,193.49;837.55,194.13;834.65,194.45;831.75,194.13;828.85,193.16;825.95,192.84;823.05,192.84;819.83,192.84;817.25,193.16;815.00,194.78;812.10,195.10;809.20,195.42;806.62,195.74;803.72,196.39;800.82,196.71;798.25,196.39;795.67,195.10;793.09,193.49;790.19,193.16;787.61,192.84;784.39,192.84;782.14,191.23;779.56,189.62;776.98,188.65;774.40,187.69;771.50,187.36;768.60,187.36;765.38,187.36;762.80,188.33;762.16,191.23;759.26,191.88;756.68,192.20;753.46,192.20;750.88,190.59;747.98,189.30;745.08,188.98;742.18,188.65;739.28,188.33;736.38,188.33;733.16,188.33;730.26,188.33;727.04,188.33;724.46,188.98;721.56,188.33;719.31,186.40;718.99,183.50;718.66,180.60;718.66,178.02;718.34,162.23;715.44,162.23;712.22,161.59;709.32,161.59;706.10,161.59;703.20,161.59;699.98,160.94;696.75,160.94;693.85,160.94;690.95,160.30;689.34,158.04;688.38,155.47;687.09,151.60;687.09,148.70;686.44,145.80;686.44,142.90;686.12,140.00;685.80,137.42;685.80,134.52;685.80,131.30;685.48,128.40;685.48,125.50;685.80,122.60;685.80,120.03;684.51,117.45;683.22,114.87;682.90,111.97;682.58,109.07;682.58,105.85;681.93,103.27;681.29,100.37;681.29,97.47;681.29,94.57;680.97,91.67;680.97,88.77;680.00,85.87;679.68,83.30;679.36,80.40;680.00,77.17;680.97,74.27;680.97,71.37;680.97,68.47;680.32,65.58;679.36,63.00;678.71,60.10;679.03,57.20;679.36,54.30;679.36,51.40;679.36,48.50;679.68,45.60;680.00,42.38;680.64,39.48;680.64,36.58" 
Misthalin = "723.00,193.20;725.56,196.63;725.79,199.98;726.46,203.34;727.13,206.70;727.35,210.05;727.58,213.41;727.58,216.99;727.58,220.57;727.58,224.15;727.58,227.73;727.58,231.31;727.58,234.89;726.91,238.24;726.23,241.60;726.68,244.96;727.35,248.31;728.25,251.67;728.25,255.25;728.02,258.61;728.02,262.19;728.25,265.54;729.14,268.90;730.04,272.25;730.49,275.61;729.59,278.97;729.59,282.55;730.04,285.90;730.04,289.48;729.81,292.84;729.81,296.42;730.04,299.77;730.26,303.13;731.38,306.49;733.84,309.17;734.96,312.53;732.72,315.21;730.26,317.67;732.50,320.36;735.86,320.14;739.21,320.58;741.67,323.04;742.12,326.40;740.55,329.53;740.33,332.89;737.87,335.35;738.76,338.71;741.23,341.39;744.58,342.06;748.16,342.06;751.29,340.72;753.98,338.48;753.98,334.90;752.41,331.77;751.07,328.64;750.85,325.28;752.64,322.37;754.43,325.28;753.76,328.64;755.10,331.77;755.55,335.13;754.20,338.26;754.87,340.27;757.11,342.96;759.57,345.42;762.71,346.99;765.39,344.75;768.97,344.30;772.33,344.97;775.68,346.09;779.04,346.31;782.39,345.20;785.75,344.97;789.11,346.09;792.46,346.31;795.82,345.87;797.61,342.96;798.73,339.60;799.40,336.02;799.85,332.67;800.74,329.31;803.43,327.07;804.32,323.72;805.66,320.58;809.02,319.91;811.93,317.67;812.15,314.32;810.36,311.19;809.69,307.83;811.03,304.47;812.82,301.56;811.48,298.43;808.80,296.19;808.57,292.84;810.14,289.71;811.48,286.57;810.81,283.22;811.26,279.86;812.60,276.51;813.50,273.15;816.85,271.81;820.21,271.58;823.56,270.91;827.37,270.91;830.72,270.46;834.08,270.24;837.44,269.57;841.02,269.57;845.04,269.79;848.40,270.02;851.76,270.24;847.95,267.33;849.07,264.87;849.52,261.96;850.64,259.50;850.64,256.37;850.19,253.68;851.31,251.00;853.32,248.98;855.78,247.19;858.02,245.18;859.59,242.72;860.03,239.81;860.71,237.13;860.71,233.99;860.26,231.31;859.59,228.18;859.59,225.49;860.26,222.58;862.94,221.24;865.18,219.23;866.97,216.54;868.76,214.08;868.54,211.40;868.09,208.49;866.97,205.58;865.18,203.12;863.84,200.66;862.27,198.19;860.26,196.18;858.02,193.94;855.11,192.82;852.20,192.82;849.07,192.82;846.16,193.50;843.48,193.94;840.57,194.39;837.88,195.06;835.80,195.00;833.70,195.00;831.50,195.30;829.10,193.80;826.03,193.72;823.34,193.50;820.43,193.94;817.75,194.61;814.84,195.51;812.15,195.73;808.80,196.85;805.89,196.85;802.76,197.52;799.85,197.97;796.94,197.08;794.70,195.29;792.02,194.17;789.11,193.50;786.20,193.05;783.51,192.38;780.83,191.26;777.92,191.03;775.24,189.92;772.33,189.69;769.42,189.69;766.51,190.14;764.05,191.71;761.14,193.05;758.45,193.27;755.55,193.50;752.19,193.50;749.28,192.82;746.60,191.48;744.36,189.92;741.23,189.92;738.09,189.92;734.96,189.92;732.05,189.92;729.14,190.14;726.46,190.14;721.00,189.70" 
Desert = "809.43,294.81;809.99,292.02;811.11,289.41;812.23,286.80;812.04,284.00;812.23,281.20;813.35,278.41;814.09,275.61;816.14,273.37;818.94,272.63;821.74,272.07;824.53,271.88;827.52,271.88;830.50,271.88;833.67,271.88;836.47,271.51;839.26,271.32;842.06,271.14;844.86,270.76;847.84,270.76;850.82,270.76;853.62,271.14;856.23,272.25;858.84,273.37;861.27,275.05;863.32,277.29;864.44,279.90;864.81,282.70;865.18,285.49;865.37,288.29;865.93,291.27;866.49,294.26;867.05,297.05;867.23,299.85;867.61,302.65;867.61,305.63;867.61,308.61;867.61,311.60;867.61,314.58;867.98,317.38;868.54,320.17;869.84,322.78;870.96,325.58;871.33,328.38;872.27,331.17;874.32,333.41;876.37,336.02;878.42,338.07;880.84,339.56;883.27,341.06;886.06,342.92;888.49,344.79;890.54,346.84;892.78,348.89;895.20,350.75;897.81,352.62;899.86,354.85;901.17,357.46;902.29,360.63;902.85,363.62;903.03,366.41;903.40,369.21;903.96,372.01;904.71,374.80;905.46,377.60;905.64,380.40;905.64,383.38;906.02,386.18;904.34,388.04;900.98,388.98;898.74,391.77;897.62,395.13;897.62,398.67;897.25,402.03;897.25,402.03;897.44,405.38;898.37,408.74;901.73,409.86;904.34,407.62;907.69,407.99;908.63,411.35;909.37,414.71;911.42,417.69;912.73,420.86;911.05,423.84;908.07,425.52;906.39,428.69;903.96,431.11;900.42,432.05;897.07,432.79;893.90,434.28;890.73,435.78;887.93,437.64;886.25,441.00;885.69,444.35;884.95,447.71;883.08,450.51;881.78,453.86;880.66,457.22;878.23,459.64;875.62,461.88;872.83,464.12;870.78,467.10;869.66,470.46;871.89,473.44;873.39,476.42;873.57,479.78;872.27,482.95;871.52,486.30;870.22,489.85;868.91,493.20;867.79,496.56;865.93,499.73;863.50,502.15;860.71,504.39;857.35,505.51;854.55,507.37;851.20,508.12;847.84,507.19;844.48,506.07;841.13,506.63;840.57,509.98;842.81,512.78;844.67,515.58;847.84,517.26;850.45,519.49;852.13,522.66;852.69,526.21;853.62,529.56;854.37,532.92;851.38,534.97;848.03,534.22;844.48,534.22;841.13,534.97;837.59,535.16;833.86,534.97;830.87,533.10;827.89,530.68;824.91,528.82;822.30,526.58;819.87,523.97;816.70,522.29;813.72,520.61;810.36,519.49;806.82,519.68;803.46,519.87;800.85,517.63;796.94,516.70;794.33,514.46;793.40,510.92;792.84,507.56;789.48,506.63;785.75,506.07;783.33,508.49;780.16,510.73;776.43,510.73;773.45,512.78;770.09,513.71;766.17,513.90;762.63,513.34;759.65,511.10;758.72,507.75;756.29,505.32;754.43,502.53;754.24,499.17;756.29,496.19;758.16,493.20;757.04,489.85;758.72,486.86;761.89,485.19;763.38,482.02;763.00,478.66;762.82,475.30;759.83,473.44;756.48,472.51;753.68,470.46;751.44,467.47;749.39,463.93;748.09,460.76;747.53,457.40;748.09,454.05;751.07,452.37;754.43,451.62;758.16,452.93;761.51,454.42;764.87,454.79;764.87,451.25;762.26,448.83;760.02,446.03;758.34,442.49;757.41,438.76;756.29,434.84;755.36,431.49;757.22,428.32;757.78,424.77;756.48,421.60;757.41,418.25;759.65,415.64;758.16,412.47;756.66,409.30;757.78,405.94;758.53,402.59;757.41,399.23;756.11,395.87;757.60,392.89;761.14,391.96;762.07,388.60;760.58,385.43;759.46,382.08;759.46,378.53;760.39,375.18;763.38,373.31;766.73,372.38;770.09,372.01;774.00,371.82;777.36,370.52;780.16,367.35;780.16,363.24;779.79,359.70;779.04,356.35;778.85,352.99;780.16,349.63;783.14,347.58;786.50,346.28;790.23,346.28;793.58,347.40;797.68,347.02;798.80,343.67;799.18,339.56;799.74,338.26;799.92,336.77;800.11,335.09;800.30,333.41;800.48,331.92;800.85,330.43;801.79,328.94;803.09,327.82;804.40,326.89;805.14,325.39;805.52,323.72;805.70,322.04;807.01,321.11;808.50,320.73;809.80,320.17;811.11,319.43;812.60,318.12;813.16,316.44;813.16,314.95;812.97,313.27;812.41,311.97;811.48,310.66;810.92,309.17;810.92,307.49;811.11,305.82;812.23,304.32;812.97,302.83;813.16,301.34;812.97,299.85;812.41,298.54;811.67,297.05" 
Morytania = "861.86,166.43;865.45,163.44;867.84,159.56;872.31,158.96;873.81,163.44;876.79,167.03;880.38,170.01;883.96,173.00;888.44,174.19;892.92,173.59;897.40,173.00;902.17,173.00;907.25,173.00;912.03,173.00;917.10,173.00;921.58,173.89;925.76,175.68;929.05,179.27;931.14,183.45;935.62,184.94;940.40,185.84;945.17,185.54;949.65,185.24;954.43,185.24;958.91,186.14;963.39,187.63;967.27,190.02;971.45,191.81;975.93,193.00;980.71,194.80;980.11,199.27;978.91,203.75;978.02,208.23;978.02,213.01;977.72,217.49;977.42,221.97;976.82,226.45;976.23,230.93;976.23,235.70;976.53,240.18;981.00,240.78;985.48,240.18;989.96,239.29;994.44,239.58;998.32,241.97;998.32,247.05;999.22,251.53;999.22,256.31;999.52,260.79;1000.41,265.26;999.82,269.74;999.52,274.22;999.52,279.00;998.62,283.48;997.13,287.96;993.84,291.24;989.96,293.93;985.19,294.83;980.41,294.83;976.23,292.74;971.75,290.35;967.57,288.55;963.09,287.96;959.51,291.24;962.79,294.53;966.67,296.92;969.96,300.20;973.54,303.19;975.93,307.07;978.02,311.25;978.91,316.03;976.23,319.91;972.64,322.89;968.46,325.28;963.98,326.78;959.51,327.37;955.03,328.27;950.55,329.16;946.07,329.76;941.29,330.66;936.81,331.25;932.03,331.25;926.96,331.25;921.88,331.25;916.81,331.25;912.33,331.55;907.85,331.85;903.37,330.66;898.59,329.76;894.11,328.57;889.93,326.78;885.45,325.28;880.97,324.09;876.50,322.30;872.31,319.91;869.63,319.61;869.03,316.32;869.03,313.04;869.03,309.76;868.73,306.47;868.73,303.19;868.43,300.20;867.84,297.21;867.54,293.93;867.24,290.94;866.64,287.66;866.34,284.67;865.45,281.39;864.55,278.40;864.55,275.12;862.16,272.73;859.18,271.53;855.89,270.04;852.91,268.55;851.41,265.86;851.41,262.58;852.01,259.59;852.91,256.31;853.80,253.32;855.59,250.63;857.38,247.95;859.48,245.26;860.67,242.27;861.27,239.29;861.57,236.00;861.57,232.72;861.57,229.43;861.57,226.15;862.46,223.16;865.15,221.07;867.54,218.98;869.03,216.00;869.80,212.40;869.33,209.43;868.00,206.00;866.00,203.00;864.80,200.60;863.30,197.80;861.90,195.70;860.37,193.30;859.18,190.32;858.58,187.03;858.58,183.75;858.58,180.46;858.58,177.18;859.18,174.19" 

txt_list = [Zeah, Tirannwn, Kandarin, Karamja, Fremennik, Asgarnia, Wilderness, Misthalin, Desert, Morytania]
name_list = ["Zeah", "Tirannwn", "Kandarin", "Karamja", "Fremennik", "Asgarnia", "Wilderness", "Misthalin", "Desert", "Morytania"]

for txt, name in zip(txt_list, name_list):
    coordinates = []
    for coord in txt.split(";"):
        coord.split(",")
        x = coord.split(",")[0]
        y = coord.split(",")[1]
        coordinates.append((float(x), float(y)))
    poly_dict[name] = coordinates

def update_map(image_url, leaderboard, team_colors):
    try:
        response = requests.get(image_url)
        response.raise_for_status()
    except requests.exceptions.RequestException as e:
        print(f"Error downloading image: {e}")
        return None
    
    image = Image.open(BytesIO(response.content))
    draw = ImageDraw.Draw(image, 'RGBA')
    for index, row in leaderboard.iterrows():
        first = row.idxmax()
        second = row.drop(first).idxmax()
        
        # transparency = int(((row.max() - row.median())/row.max()) * 255)
        transparency = 150
        fill_color = team_colors[first] + (transparency,)
        
        
        draw.polygon(poly_dict[index], fill = fill_color, outline = team_colors[second], width = 5)
    return(image)
